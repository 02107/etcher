<!DOCTYPE html>
<html>
  <head>
    <title>Etcher</title>
    <link rel="stylesheet" type="text/css" href="../../node_modules/flexboxgrid/dist/flexboxgrid.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/desktop.css">
    <link rel="stylesheet" type="text/css" href="css/angular.css">

    <!-- Enable debug information from all modules that use `debug` -->
    <!-- See https://github.com/visionmedia/debug#browser-support -->
    <script>window.localStorage.debug = '*';</script>

    <script>
      window._trackJs = {
        token: '032448bc3d9e4cffb1e9b43d29d6c142',
        application: 'etcher'
      };
    </script>
    <script src="../../node_modules/trackjs/tracker.js"></script>

    <script src="./app.js"></script>
  </head>
  <body ng-app="Etcher">
    <header class="section-header" ng-controller="HeaderController as header">
      <div>
        <button class="button button-link" ng-click="header.openHelpPage()">
          <span class="glyphicon glyphicon-question-sign"></span>
        </button>

        <button class="button button-link" ui-sref="settings" hide-if-state="settings">
          <span class="glyphicon glyphicon-cog"></span>
        </button>

        <button class="button button-link" ui-sref="main" show-if-state="settings">
          <span class="glyphicon glyphicon-chevron-left"></span> Back
        </button>
      </div>
      <ul id="header-menu"
        style="padding:0 20px;">
        <li class="header-menu-button"
          style="flex-grow:1;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px;"
          ng-class="{ 'selected-header': header.pageIs('drives') }"
          ui-sref="drives"
          ng-disabled="false">
          <svg-icon
             width="30px"
             height="30px"
             path="{{ header.selection.getImageLogo() || '../../../assets/image.svg' }}"></svg-icon>
          <span class="header-title">
            <b>
              {{ ((header.selection.getDrive().description) || 'Select Drive') | middleEllipses:20 }}
            </b>
            <span style="padding:0 .5em;" ng-show="header.selection.getDrive()">
              {{ (header.selection.getDrive().size | gigabyte | number:1) + 'GB' }}
            </span>
          </span>
        </li>
        <li class="header-menu-button"
          style="flex-grow:1;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px;"
          ng-class="{ 'selected-header': header.pageIs('images') }"
          ui-sref="images"
          ng-disabled="header.shouldImageStepBeDisabled()">
          <svg-icon
            path="../../../assets/drive.svg"
            width="30px"
            height="30px"
            ng-disabled="header.shouldDriveStepBeDisabled()"></svg-icon>
          <span class="header-title">
            <b>
              {{ ((header.selection.getImagePath() | basename) || 'Select Image') | middleEllipses:16 }}
            </b>
            <span style="padding:0 .5em" ng-show="header.selection.getImagePath()">
              {{ (header.selection.getImage().size | gigabyte | number:1) + 'GB' }}
            </span>
          </span>
        </li>
        <li class="header-menu-button"
          style="flex-grow:1;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px;"
          ng-class="{ 'selected-header': header.pageIs('flash') }"
          ui-sref="flash"
          ng-disabled="header.shouldFlashStepBeDisabled()">
          <svg-icon
            path="../../../assets/flash.svg"
            width="30px"
            height="30px"
            ng-disabled="header.shouldFlashStepBeDisabled()"></svg-icon>
          <span class="header-title">Flash!</span>
        </li>
      </ul>
    </header>

    <main class="wrapper" ui-view></main>

    <footer class="section-footer">
      <svg-icon path="../../../assets/etcher.svg"
        width="83px"
        height="13px"
        os-open-external="https://etcher.io?ref=etcher_footer"></svg-icon>

      <span class="caption">
        is <span class="caption" os-open-external="https://github.com/resin-io/etcher">an open source project</span> by
      </span>

      <svg-icon path="../../../assets/resin.svg"
        width="79px"
        height="23px"
        os-open-external="https://resin.io?ref=etcher"></svg-icon>

      <span class="caption footer-right"
        manifest-bind="version"
        os-open-external="https://github.com/resin-io/etcher/blob/master/CHANGELOG.md"></span>
    </footer>
  </body>
</html>
